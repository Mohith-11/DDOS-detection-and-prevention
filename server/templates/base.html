<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="DDoS Detection & Prevention Monitoring Dashboard">
    <meta name="theme-color" content="#0a0e13">
    <title>{% block title %}DDoS Detection Dashboard{% endblock %}</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
    {% block extra_css %}{% endblock %}
</head>
<body>
    <!-- Added skip to main content link for accessibility -->
    <a href="#main-content" class="skip-to-main">Skip to main content</a>

    <nav class="navbar navbar-dark bg-dark border-bottom border-secondary" role="navigation" aria-label="Main navigation">
        <div class="container-fluid">
            <a class="navbar-brand fw-bold" href="/" aria-label="DDoS Dashboard Home">üõ°Ô∏è <span class="d-none d-sm-inline">DDoS Dashboard</span></a>
            <div class="d-flex align-items-center gap-3">
                <!-- Enhanced connection status with better semantics -->
                <div class="d-flex align-items-center" role="status" aria-live="polite" aria-label="Connection status">
                    <span class="text-light small" id="connection-status" title="Socket.IO Connection Status">‚óè Connected</span>
                </div>
                <div role="complementary" aria-label="Current operator">
                    <small class="text-muted">Operator:</small> <span id="operator-name" class="text-light">Guest</span>
                </div>
            </div>
        </div>
    </nav>

    <div class="d-flex flex-row" style="min-height: calc(100vh - 56px);">
        <!-- Sidebar Navigation -->
        <nav class="bg-dark border-end border-secondary p-3" style="width: 200px; overflow-y: auto;" role="navigation" aria-label="Side navigation" aria-orientation="vertical">
            <ul class="nav flex-column gap-2">
                <li class="nav-item">
                    <a class="nav-link {% block nav_dashboard %}{% endblock %}" href="/" aria-current="{% block nav_dashboard_current %}page{% endblock %}">
                        Dashboard
                    </a>
                </li>
                <li class="nav-item">
                    <a class="nav-link {% block nav_verification %}{% endblock %}" href="/verification" aria-current="{% block nav_verification_current %}page{% endblock %}">
                        Verification Queue
                    </a>
                </li>
                <li class="nav-item">
                    <a class="nav-link {% block nav_logs %}{% endblock %}" href="/logs" aria-current="{% block nav_logs_current %}page{% endblock %}">
                        Audit Logs
                    </a>
                </li>
                <li class="nav-item">
                    <a class="nav-link {% block nav_settings %}{% endblock %}" href="/settings" aria-current="{% block nav_settings_current %}page{% endblock %}">
                        Settings
                    </a>
                </li>
            </ul>
        </nav>

        <!-- Main Content -->
        <main class="flex-grow-1 p-4 bg-darker overflow-y-auto" id="main-content" role="main" aria-label="Main content">
            {% block content %}{% endblock %}
        </main>
    </div>

    <!-- Toasts Container -->
    <div class="toast-container position-fixed bottom-0 end-0 p-3" id="toast-container" role="region" aria-live="polite" aria-label="Notifications"></div>

    <!-- Socket.IO -->
    <script src="https://cdn.socket.io/4.5.4/socket.io.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="{{ url_for('static', filename='js/socket-manager.js') }}"></script>
    <script src="{{ url_for('static', filename='js/toast-manager.js') }}"></script>
    {% if config.get('DEBUG') %}
    <script src="{{ url_for('static', filename='js/dev-tools.js') }}"></script>
    {% endif %}
    {% block extra_js %}{% endblock %}
</body>
</html>
